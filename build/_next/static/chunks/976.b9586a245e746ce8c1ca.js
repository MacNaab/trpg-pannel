(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[976],{1976:function(e,n,o){"use strict";o.r(n),o.d(n,{default:function(){return c}});var s=o(5893),r=o(9227),t=o(7294),a=o(1608),l=o(5171),u=o.n(l),i=o(474);function c(e){var n=t.useState(null),o=(0,r.Z)(n,2),l=o[0],c=o[1],d=t.useState(!1),p=(0,r.Z)(d,2),h=p[0],f=p[1],m=t.useState(""),j=(0,r.Z)(m,2),g=j[0],v=j[1],x=t.useState(!1),b=(0,r.Z)(x,2),S=b[0],k=b[1],N=t.useState(!1),Z=(0,r.Z)(N,2),y=Z[0],C=Z[1];function _(){return S?(0,s.jsx)(i.Z,{type:"fail",message:S}):y?(0,s.jsx)(i.Z,{message:S}):null}return(0,s.jsxs)("div",{children:[(0,s.jsx)(_,{}),(0,s.jsxs)("div",{className:"m-5 flex justify-center gap-10",children:[(0,s.jsx)("span",{className:"p-3 border rounded-md cursor-pointer hover:border-gray-800 hover:bg-gray-100",onClick:function(){e.setMenu("menu")},children:"Retour au Menu principal"}),(0,s.jsx)("span",{className:"p-3 border rounded-md cursor-pointer bg-green-500 hover:border-green-800 hover:bg-green-600",onClick:function(){console.log(l,g);var e={href:g,data:l};fetch(a.Jx+"update.php",{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),C("Mise \xe0 jour effectu\xe9e avec succ\xe8s.")}),(function(e){console.log(e),k("Une erreur c'est produite durant l'envoie des donn\xe9es, plus d'information dans la console.")}))},children:"Valider les changements"})]}),(0,s.jsx)("div",{className:"m-5",children:(0,s.jsxs)("select",{className:"w-48 rounded border p-1 m-auto flex",onChange:function(e){var n=e.target.value;!h&&f(!0),v(n+".json"),fetch(a.Jx+n+".json",{cache:"no-store"}).then((function(e){return e.json()})).then((function(e){c(e),f(!1)}),(function(e){console.log(e),k("Une erreur est survenu, consultez la console pour plus d'informations")}))},defaultValue:"",disabled:h,children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"S\xe9lectionnez une base de donn\xe9e"}),(0,s.jsx)("option",{value:"timeline/data",children:"Timeline"}),(0,s.jsxs)("optgroup",{label:"Cartes",children:[(0,s.jsx)("option",{value:"map/c",children:"Continent"}),(0,s.jsx)("option",{value:"map/k",children:"Korath"}),(0,s.jsx)("option",{value:"map/s",children:"Skellige"}),(0,s.jsx)("option",{value:"map/t",children:"Toussaint"}),(0,s.jsx)("option",{value:"map/z",children:"Zerrikanie"})]})]})}),(0,s.jsx)("div",{className:"m-5",children:l?(0,s.jsx)(u(),{src:l,theme:"google",iconStyle:"square",onEdit:function(e){c(e.updated_src)},onDelete:function(e){c(e.updated_src)},onAdd:function(e){c(e.updated_src)}}):null})]})}}}]);